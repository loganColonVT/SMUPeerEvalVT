"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["83769"],{164160:function(v,l,t){t.d(l,{h:()=>f});var c=t(392338),n=t.n(c),e=t(375377),r=t.n(e),a=t(642979),d=t.n(a),O=t(457728),m=t.n(O);function o(E,_){var i=Object.keys(E);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(E);_&&(u=u.filter(function(D){return Object.getOwnPropertyDescriptor(E,D).enumerable})),i.push.apply(i,u)}return i}function s(E){for(var _=1;_<arguments.length;_++){var i=arguments[_]!=null?arguments[_]:{};_%2?o(Object(i),!0).forEach(function(u){d()(E,u,i[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(u){Object.defineProperty(E,u,Object.getOwnPropertyDescriptor(i,u))})}return E}var P=function(_){var i,u={};return s(s(s({},_),{},{nameOrder:(i=_.formFieldFormats)===null||i===void 0?void 0:i.initialNameOrder},_.formFieldFormats),{},{initialValues:u})},f=function(){var E=r()(m().mark(function _(i,u){var D,g,R,M,C,T,h=arguments;return m().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return D=h.length>2&&h[2]!==void 0?h[2]:window,p.next=1,u(D,i.captchaEnabled);case 1:return g=p.sent,R=g.enterpriseRendered,M=g.showRecaptchaBadge,C=i.captchaEnabled&&!R,T=function(){i.captchaEnabled&&R&&M&&M({isLightbox:i.useLightbox,win:D})},p.abrupt("return",P(s(s({},i),{},{captchaEnabled:C,globalOnFocus:T})));case 2:case"end":return p.stop()}},_)}));return function(i,u){return E.apply(this,arguments)}}()},288633:function(v,l,t){t.r(l),t.d(l,{bootstrapVisitorForms:()=>P,updateVisitorForms:()=>f});var c=t(116984),n=t(164160),e=t(349239),r=t(910895),a=t(20036),d=t(537312),O=t(643977),m=t(154210);const o=()=>Object.fromEntries(new URLSearchParams(window.location.search));let s;function P(){const E=document.querySelectorAll(".sqs-block-form");s=[],E.forEach(async _=>{if(_.className.includes("sqs-block-website-component")||_.className.includes("sqs-block-form-lightbox")||_.className.includes("donation-form"))return;const{id:i}=_,u=(0,e.S)(_);if(!u){console.error(`Missing form context for block: ${i}, ${JSON.stringify(_)}`);return}if(u.useLightbox)return;const D=(0,r.z)(u,window),{formId:g}=u,R=await(0,n.h)(u,a.Z),M=_.querySelector(".form-wrapper");if(!M){console.error(`Missing formWrapper for block: '${i}'`);return}const C=(0,O.S)(window);(0,d.if)(g);const T={...R,mediaPlatformBaseUrl:C,mediaPlatformLibraryId:g,queryParams:o(),uploadAuthorization:async()=>(0,O.t)(u,window),onSubmit:async h=>(await D(h),!0)};(0,m.S)(T,M),s.push(function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,m.S)({...T,...h},M)})})}function f(E){s.forEach(_=>{_(E)})}},399544:function(v,l,t){var c=t(714487),n=t(517197);(0,n.U)(c.ZP)},116984:function(v,l,t){var c=t(399544)},328690:function(v,l,t){t.d(l,{Z:()=>d});var c=t(174161),n=t(216581),e=t(714487),r=t(308607);const d=O=>{let{translationLocale:m,formattingLocale:o,children:s}=O;return c.createElement(n.Z.Provider,{value:{translationLocale:m,formattingLocale:o,cldrLoader:r.Z,...e.Td}},s)}},58553:function(v,l,t){t.d(l,{Z:()=>o});var c=t(174161),n=t(684353),e=t(691985),r=t(54149),a=t(328690),d=t(119325);function O(){return(e.D===null||e.D===void 0?void 0:e.D.website.language)||(0,d.A)()||r.Z.defaultLocale}function m(){return n.translationLocale}const o=s=>{let{children:P}=s;return c.createElement(a.Z,{translationLocale:m(),formattingLocale:O()},P)}},119325:function(v,l,t){t.d(l,{A:()=>n});var c=t(684353);function n(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;var r,a,d;return(e==null||(d=e.Static)===null||d===void 0||(a=d.SQUARESPACE_CONTEXT)===null||a===void 0||(r=a.website)===null||r===void 0?void 0:r.language)??c.translationLocale}},538117:function(v,l,t){t.d(l,{Jl:()=>a,Oj:()=>d,dU:()=>m,ge:()=>e,ni:()=>r,r8:()=>O});var c=t(787592),n=t(998124);const e=n.getDomain,r=n.isInternal,a=n.isStage,d=n.isQA,O=n.isDev,m=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;var s,P;const f=o==null||(P=o.Static)===null||P===void 0||(s=P.SQUARESPACE_CONTEXT)===null||s===void 0?void 0:s.env;return f||(0,c.$e)(E=>{E.setTag("critical-issue","true"),E.setTag("user_facing","true"),(0,c.Tb)(new Error("Environment is not defined"))}),f}},154210:function(v,l,t){t.d(l,{S:()=>O,n:()=>d});var c=t(116984),n=t(174161),e=t(233284),r=t(360174),a=t(58553);const d=m=>{let{onMount:o,children:s}=m;return(0,n.useEffect)(()=>{o==null||o()},[o]),n.createElement(n.StrictMode,null,n.createElement(a.Z,null,s))},O=(m,o,s)=>{(0,e.render)(n.createElement(d,{onMount:s},n.createElement(r.Z,m)),o)}},643977:function(v,l,t){t.d(l,{S:()=>O,t:()=>m});var c=t(399544),n=t(76149),e=t(528215),r=t(538117);const a="https://media.dev.squarespace.net",d="https://media-api.squarespace.com",O=o=>(0,r.Jl)(o)||(0,r.Oj)(o)||(0,r.r8)(o)?a:d,m=async(o,s)=>{let P;const f=O(s),E=o.formId;return o.captchaEnabled&&(P=await e.TJ(s,e.aI.FORM_BLOCK)),P==null?{status:400,errorMessage:"File Upload ReCAPTCHA token null or undefined",token:null}:await n.g.getShortLivedTokenFromRecaptchaValidationEndpoint(P,f,E)}},349239:function(v,l,t){t.d(l,{S:()=>c});const c=n=>{const e=n.querySelector("script.sqs-form-block-context"),r=n.querySelector("script.sqs-form-block-localized-strings"),a=n.querySelector(".sqs-form-block-submission-html"),d=(a==null?void 0:a.getAttribute("data-submission-html"))??void 0;try{if(r!=null&&r.textContent){const O=JSON.parse(r==null?void 0:r.textContent);return e!=null&&e.textContent?{formSubmissionHTML:d,...JSON.parse(e.textContent),localizedStrings:O}:null}return e!=null&&e.textContent?{formSubmissionHTML:d,...JSON.parse(e.textContent)}:null}catch{throw new Error("Error parsing the JSON form context")}}},910895:function(v,l,t){t.d(l,{z:()=>o});var c=t(456903),n=t(739233),e=t(537312),r=t(528215);const a="/api/form/FormSubmissionKey",d="/api/form/SaveFormSubmission",O={withCredentials:!0},m=async(s,P,f)=>{const{data:E}=await c.default.post(a),{key:_}=E;if(!_)throw new Error("Got invalid form submission key");const i=()=>r.TJ(f,r.aI.FORM_BLOCK),u=await(0,n.Q)({key:_,formData:P,formContext:s,getRecaptchaEnterpriseV3Token:i});return(0,e._5)(u),c.default.post(d,u,O)},o=(s,P)=>f=>m(s,f,P)},20036:function(v,l,t){t.d(l,{Z:()=>r});var c=t(528215),n=t(304212);const r=async function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;if(arguments.length>1?arguments[1]:void 0){const O=(0,n.Z)(a);return await c.DU(a,O),{enterpriseRendered:!0,showRecaptchaBadge:c.ZQ}}return{enterpriseRendered:!1}}}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/1f4625b2b9b2fbc9/async-visitor-forms-016fb2253d1a43f2-min.en-US.js.map